<div class="jumbotron">

    <button (click)="newReimReq()" class="btn btn-primary" *ngIf="isEmp"><span class="oi oi-plus"></span> New Reimbursement Request</button>
    <button (click)="getReimbursements()" class="btn btn-success offset-8" *ngIf="isEmp"><span class="oi oi-reload"></span></button>
    <button (click)="getAllReimbursements()" class="btn btn-success offset-12" *ngIf="isAdmin"><span class="oi oi-reload"></span></button>
    <table class="table table-striped table-hover table-light mt-2" *ngIf="isEmp">
        <thead>
        <tr>
            
            <th scope="col">Amount</th>
            <th scope="col">Created</th>
            <th scope="col">Resolved</th>
            <th scope="col">Description</th>
            <th scope="col">Resolver</th>
            <th scope="col">Type</th>
            <th scope="col">Status</th>
            
            
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let r of reim">
            
            <td>{{ r.amount | currency }}</td>
            <td>{{ r.sdate | date }}</td>
            <td>{{ r.rdate | date }}</td>
            <td>{{ r.info }}</td>
            <td>{{ r.resolver }}</td>
            <td>{{ r.type }}</td>
            <td>{{ r.status }}</td>
            
        </tr>
        </tbody>
    </table>
    
    <table class="table table-striped table-hover table-light mt-2" *ngIf="isAdmin">
        <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Amount</th>
            <th scope="col">Created</th>
            <th scope="col">Resolved</th>
            <th scope="col">Description</th>
            <th scope="col">Username</th>
            <th scope="col">Type</th>
            <th scope="col">Status</th>
            <th scope="col">Update</th>
            <th scope="col">Submit</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let r of reim">
            <td>{{ r.rid }}</td>
            <td>{{ r.amount | currency }}</td>
            <td>{{ r.sdate | date }}</td>
            <td>{{ r.rdate | date }}</td>
            <td>{{ r.info }}</td>
            <td>{{ r.username }}</td>
            <td>{{ r.type }}</td>
            <td>{{ r.status }}</td>
            <td>
                <div class="container">
                    <select id="type" class="form-control custom-select" required [(ngModel)]="status" >
                        <option value=""></option>
                        <option value="APPROVED">Approve</option>
                        <option value="DENIED">Deny</option>
                        <option value="CLOSED">Close</option>
                    </select>
                </div>    
            </td>
            <td><button (click)="updateRequest(r.rid, status)" class="btn btn-danger"><span class="oi oi-circle-check"></span></button></td>
        </tr>
        </tbody>
    </table>
    
</div>